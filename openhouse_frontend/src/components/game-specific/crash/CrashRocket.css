/* Rocket smoke trail */
@keyframes smoke {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.8;
  }
  100% {
    transform: translateY(50px) scale(2);
    opacity: 0;
  }
}

.animate-smoke {
  animation: smoke 1s ease-out infinite;
}

.smoke-particle {
  width: 20px;
  height: 20px;
  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
  border-radius: 50%;
  animation: smoke 1s ease-out infinite;
}

/* Flames animation */
.flames {
  animation: flicker 0.2s ease-in-out infinite alternate;
}

@keyframes flicker {
  0% { opacity: 0.8; }
  100% { opacity: 1; }
}

/* Explosion effect */
.explosion-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.explosion-circle {
  position: absolute;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  animation: explode 1s ease-out forwards;
  top: 50%;
  left: 50%;
  margin-left: -40px;
  margin-top: -40px;
}

@keyframes explode {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(3);
    opacity: 0;
  }
}

/* Star twinkle animations - different speeds per depth layer for parallax effect */

/* Distant stars: slow, subtle twinkle (they're far away) */
@keyframes twinkle-distant {
  0%, 100% { opacity: 0.15; }
  50% { opacity: 0.4; }
}

/* Mid-distance stars: medium twinkle */
@keyframes twinkle-mid {
  0%, 100% { opacity: 0.35; }
  50% { opacity: 0.75; }
}

/* Near stars: faster, more pronounced twinkle */
@keyframes twinkle-near {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* Legacy twinkle for backwards compatibility */
.star {
  animation: twinkle-mid 2s ease-in-out infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

/* Pre-launch slide in animation */
@keyframes slideInFromLeft {
  from {
    transform: translate(-150%, -50%) rotate(90deg);
    opacity: 0;
  }
  to {
    transform: translate(-50%, -50%) rotate(90deg);
    opacity: 1;
  }
}

/* Engine warmup glow effect - pulsing engine heat while waiting for launch */
@keyframes engineWarmup {
  0%, 100% {
    filter: drop-shadow(0 0 5px rgba(255, 200, 100, 0.35));
  }
  50% {
    filter: drop-shadow(0 0 14px rgba(255, 150, 50, 0.65));
  }
}

/* Subtle hover/bob effect for pre-launch rockets - builds anticipation */
@keyframes rocketHover {
  0%, 100% {
    transform: translate(-50%, -50%) rotate(90deg) translateY(0);
  }
  50% {
    transform: translate(-50%, -50%) rotate(90deg) translateY(-3px);
  }
}

/* Nebula drift animations - organic movement for cosmic atmosphere */
/* Each nebula gets a different drift pattern for natural, non-uniform motion */

@keyframes nebulaDrift1 {
  0%, 100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(8px, -5px);
  }
  66% {
    transform: translate(-3px, 3px);
  }
}

@keyframes nebulaDrift2 {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-6px, 4px);
  }
  75% {
    transform: translate(5px, -3px);
  }
}

@keyframes nebulaDrift3 {
  0%, 100% {
    transform: translateX(-50%) translate(0, 0);
  }
  40% {
    transform: translateX(-50%) translate(4px, -6px);
  }
  80% {
    transform: translateX(-50%) translate(-5px, 2px);
  }
}

/* Deep space nebula - appears at extreme multipliers (500x+) */
@keyframes nebulaDrift4 {
  0%, 100% {
    transform: translate(0, 0) scale(1);
  }
  50% {
    transform: translate(6px, -4px) scale(1.02);
  }
}

/* Horizon heat shimmer effect - subtle atmospheric distortion near ground level */
@keyframes heatShimmer {
  0%, 100% {
    opacity: 0.25;
    transform: translateX(0) scaleX(1);
  }
  25% {
    opacity: 0.35;
    transform: translateX(2px) scaleX(1.01);
  }
  50% {
    opacity: 0.3;
    transform: translateX(-1px) scaleX(0.99);
  }
  75% {
    opacity: 0.4;
    transform: translateX(1px) scaleX(1.02);
  }
}

/* Atmospheric layer transition pulse - cinematic layer separation */
@keyframes atmosphereLayerPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.85;
  }
}

/* Mobile orientation change smooth transition */
.orientation-transitioning {
  /* Smooth scale/opacity during orientation change */
  animation: orientationFade 0.3s ease-out;
}

@keyframes orientationFade {
  0% {
    opacity: 0.7;
    transform: scale(0.98);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Ensure smooth canvas resizing on orientation change */
@media (orientation: portrait) {
  .crash-canvas-container {
    /* Portrait-specific optimizations */
    touch-action: manipulation; /* Prevent double-tap zoom */
  }
}

@media (orientation: landscape) {
  .crash-canvas-container {
    /* Landscape-specific optimizations */
    touch-action: manipulation;
  }
}
